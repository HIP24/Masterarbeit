import matplotlib.pyplot as plt
import numpy as np

# Data points
x = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599]

y = [51.862,54.596,56.002,55.199,49.881,62.726,70.205,84.653,56.179,93.580,86.946,66.981,47.017,80.739,32.890,80.119,108.180,28.320,58.767,66.308,68.788,58.436,111.523,71.207,87.936,40.290,114.796,84.925,53.045,113.206,66.109,116.244,65.085,51.073,62.491,94.474,107.378,59.721,81.021,69.292,91.435,96.685,90.006,71.331,52.316,79.491,34.231,103.614,115.879,90.049,56.227,86.025,33.708,66.960,56.933,76.621,38.683,50.867,69.678,76.001,92.829,37.023,72.058,37.131,59.042,64.346,69.124,78.101,63.693,68.723,76.062,73.389,43.162,52.194,78.074,50.766,57.074,86.669,55.149,60.483,92.246,73.058,93.020,88.486,57.492,123.631,70.830,111.962,127.272,49.817,62.041,78.877,102.869,81.452,85.973,41.749,94.734,50.274,56.622,35.346,118.174,31.411,67.666,69.616,48.057,66.863,44.995,63.745,103.150,78.294,74.981,71.531,25.950,34.077,81.889,120.462,49.711,54.088,116.507,53.629,90.155,39.771,74.900,90.831,117.349,54.947,61.430,89.032,80.398,54.369,80.020,57.895,33.817,43.928,72.449,112.233,97.829,51.508,82.414,114.352,74.300,22.492,113.627,76.067,75.312,56.855,29.621,67.758,87.877,59.695,104.371,71.523,59.761,115.561,67.687,92.069,77.989,93.650,40.525,63.235,72.948,55.907,83.985,65.131,67.007,94.927,54.834,92.474,42.187,110.603,56.178,40.832,41.060,49.763,67.656,62.408,104.998,63.817,62.757,67.726,55.252,54.265,67.521,60.710,51.246,45.380,69.287,91.577,71.817,54.342,96.039,56.348,103.330,90.736,110.993,40.878,90.684,61.354,117.886,74.695,65.405,84.184,43.571,55.468,39.175,122.676,83.477,57.894,25.271,89.976,35.665,47.478,65.568,91.509,114.866,74.620,65.496,120.734,70.290,65.665,37.799,57.471,43.542,64.064,84.287,62.404,84.662,62.102,61.604,116.215,59.601,115.361,76.459,104.011,70.869,68.736,62.897,90.835,42.050,85.357,47.802,118.987,111.925,72.493,39.938,78.673,47.584,75.193,43.498,89.068,50.419,74.467,107.608,76.240,114.428,85.155,105.144,115.022,51.889,59.354,64.750,86.819,68.889,67.855,108.441,44.034,84.970,52.993,70.919,76.805,86.065,73.297,55.509,69.450,55.971,58.510,54.187,72.258,90.200,56.088,32.172,94.628,87.219,71.599,93.067,121.399,51.420,67.469,93.275,59.344,57.890,90.417,37.054,92.114,111.397,65.501,59.382,103.952,52.925,57.911,52.641,102.146,56.585,96.570,73.017,67.662,43.040,116.756,69.015,62.788,42.146,51.431,97.438,54.078,43.335,59.357,17.556,43.639,56.266,49.950,60.272,88.501,88.240,96.141,41.113,92.883,48.286,103.422,90.289,66.347,87.786,75.278,71.946,80.436,86.034,47.380,61.558,110.475,81.127,95.256,94.863,82.164,65.776,37.945,61.878,58.056,91.176,54.310,91.511,92.783,66.078,63.894,81.659,96.535,37.522,53.007,74.641,52.452,95.317,59.485,57.669,113.174,104.792,29.585,92.035,69.726,113.106,77.991,68.348,54.931,64.644,104.273,105.335,32.838,41.635,107.317,93.339,70.880,109.159,83.163,65.914,51.050,49.342,34.172,106.908,72.961,75.400,102.691,93.242,102.691,107.307,76.843,66.105,67.882,53.623,41.729,55.038,68.117,78.562,60.495,23.938,49.188,22.973,75.364,39.722,76.424,52.522,80.405,58.818,34.972,48.558,40.485,60.995,32.601,38.290,48.819,53.645,89.923,76.071,69.810,76.376,49.493,38.318,56.734,96.880,60.863,59.624,64.577,54.926,75.704,81.488,50.203,87.230,78.722,65.950,30.020,60.685,86.037,63.548,39.000,106.570,80.665,50.691,67.101,64.129,34.406,56.356,82.401,80.889,55.762,50.212,86.950,78.058,56.368,60.520,48.788,69.511,55.951,97.846,113.265,94.469,47.613,48.399,75.647,65.584,58.045,64.904,75.363,83.412,42.736,28.048,333.514,61.811,47.200,72.484,82.211,89.664,81.528,66.412,68.323,77.447,53.897,75.731,68.151,72.248,50.170,60.886,29.022,39.415,94.700,78.449,81.319,53.996,42.786,67.350,27.393,41.936,55.236,53.830,66.737,51.513,107.841,52.916,54.156,75.817,67.534,37.567,75.932,93.729,74.709,42.203,87.138,87.392,77.348,82.607,76.836,93.262,106.729,96.320,108.154,108.818,102.630,84.985,47.171,64.650,59.139,65.727,59.944,80.017,47.974,39.908,57.094,102.121,67.602,106.687,85.170,47.998,69.637,81.139,71.277,51.415,66.696,79.665,76.888,66.316,64.696,57.313,66.772,35.717,44.318,44.419,59.774,69.662,388.255,59.913,70.097,47.792,48.079,92.689,78.982,77.138,67.973,67.394,62.342,82.305,83.882,76.573,51.236,56.081,74.047,54.131,42.798,108.112,55.157,58.780,392.941,35.857,107.672,34.628,51.770,82.949,51.441,48.957,40.305,43.181,68.373,78.851,76.964,95.052,84.399,54.353,107.689,64.364,61.335,43.222,66.353,94.952,83.262,96.970]

# Calculate statistics
max_y = np.max(y)
min_y = np.min(y)
std_y = np.std(y)

# Print the statistics
print(f"Max: {max_y}")
print(f"Min: {min_y}")
print(f"Standard Deviation: {round(std_y, 2)}")

# Create the plot
plt.figure(figsize=(10, 6))
plt.plot(x, y,'-', color='blue')

# Set the title and labels
plt.title('Latency of Operating System')
plt.xlabel('Time [s]')
plt.ylabel('Latency [Âµs]')

# Set the x and y axis limits
plt.xlim([0, 600])
plt.ylim([0, 500])

# Save the plot to a file
plt.savefig("max_latency_vapic.png")
#plt.savefig("../../../../../../img/max_latency_vapic.png")

# Print a success message
print("The plot with statistics was successfully saved to max_latency_vapic.png")

# Write the statistics to a file
with open('max_latency_vapic_statistics.txt', 'w') as f:
    f.write(f"Max: {max_y}\n")
    f.write(f"Min: {min_y}\n")
    f.write(f"Standard Deviation: {std_y}\n")

# Print a success message
print("The statistics were successfully written to max_latency_vapic_statistics.txt")

