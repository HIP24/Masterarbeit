import matplotlib.pyplot as plt
import numpy as np

# Data points
x = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299
]

y = [28.850,68.397,29.282,25.914,51.851,79.455,36.560,87.905,60.969,94.601,50.058,31.212,50.626,99.481,37.379,86.715,107.430,104.186,56.050,51.691,65.582,114.711,92.734,79.471,107.172,94.555,60.738,98.167,111.588,464.854,55.832,108.172,120.638,67.145,85.422,89.967,73.639,81.867,57.165,43.974,62.970,76.927,66.750,89.278,83.903,74.145,66.655,66.421,37.462,91.038,37.196,34.226,75.040,98.240,75.090,78.199,53.051,57.028,74.386,96.045,61.642,99.011,94.503,59.841,82.033,68.307,77.983,95.775,83.762,84.545,76.316,53.736,70.191,46.127,75.088,43.720,17.675,19.657,83.751,28.187,43.585,69.025,104.552,64.809,113.875,46.386,44.007,31.557,37.156,38.626,66.680,82.424,46.864,77.406,77.066,58.656,38.717,47.985,40.310,61.705,39.526,43.313,79.492,34.519,40.358,52.020,70.742,45.448,50.873,50.358,33.853,68.413,90.255,96.019,66.660,62.851,34.675,30.854,55.289,63.041,85.856,57.253,68.806,74.196,41.742,47.737,47.456,76.770,38.350,64.002,51.874,88.600,56.639,57.033,43.774,84.494,70.918,42.416,67.335,53.435,57.766,59.203,43.653,55.290,80.198,79.106,71.812,72.564,50.658,47.516,21.645,96.295,27.753,62.985,115.581,67.769,52.841,79.355,79.387,43.259,66.720,39.267,77.517,40.199,34.284,23.838,18.914,44.072,40.050,53.914,67.799,82.155,88.354,74.906,80.002,68.121,65.966,83.789,46.153,74.880,38.240,90.252,55.207,65.132,75.620,61.132,31.799,90.426,61.500,60.365,77.089,48.720,69.261,104.178,63.705,75.327,54.615,56.542,30.388,65.985,66.723,64.418,85.835,84.967,71.524,48.091,37.624,61.549,31.163,95.830,61.918,75.154,64.767,50.653,42.306,40.137,82.164,62.107,53.618,48.083,57.039,27.953,64.821,41.136,107.592,66.159,71.913,40.780,83.398,31.097,55.980,87.890,24.184,73.649,46.868,47.233,43.051,31.379,51.295,81.799,28.699,67.848,74.017,58.991,91.787,18.085,44.122,80.686,44.281,47.220,67.085,83.012,39.478,74.934,24.362,63.906,47.546,80.091,83.299,78.077,67.644,43.462,75.345,74.780,40.099,57.263,98.144,48.146,89.844,42.570,32.868,71.305,71.938,48.877,71.208,47.852,60.825,87.630,87.555,46.922,54.771,55.633,66.372,88.123,73.714,73.998,74.737,53.932,87.159,75.401,52.976,63.438,59.531,71.997,57.356,25.148,56.612,24.427,55.670
]

# Calculate statistics
max_y = np.max(y)
min_y = np.min(y)
std_y = np.std(y)

# Print the statistics
print(f"Max: {max_y}")
print(f"Min: {min_y}")
print(f"Standard Deviation: {round(std_y, 2)}")

# Create the plot
plt.figure(figsize=(10, 6))
plt.plot(x, y,'-', color='blue')

# Set the title and labels
plt.title('Latency of Operating System')
plt.xlabel('Time [s]')
plt.ylabel('Latency [Âµs]')

# Set the x and y axis limits
plt.xlim([0, 300])
plt.ylim([0, 500])

# Save the plot to a file
plt.savefig("max_latency_def.png")
#plt.savefig("../../../../../img/max_latency_default.png")

# Print a success message
print("The plot was successfully saved to max_latency_def.png")

# Write the statistics to a file
with open('max_latency_def.txt', 'w') as f:
    f.write(f"Max: {max_y}\n")
    f.write(f"Min: {min_y}\n")
    f.write(f"Standard Deviation: {std_y}\n")

# Print a success message
print("The statistics were successfully written to max_latency_def.txt")



