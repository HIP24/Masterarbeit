import matplotlib.pyplot as plt
import numpy as np

# Data points
x = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599
]

y = [21.342,14.909,29.213,21.265,16.834,26.590,16.870,20.599,22.723,17.249,20.398,15.743,20.726,20.333,18.856,15.177,16.031,23.646,16.072,18.964,16.168,22.562,15.821,19.711,15.924,15.537,16.074,14.251,28.143,16.553,17.458,15.834,17.229,15.163,16.953,19.121,21.530,20.032,23.770,23.549,17.242,20.812,19.588,17.921,15.641,20.476,22.275,16.719,16.021,17.058,15.589,17.349,16.476,24.585,17.091,17.354,20.686,19.149,15.961,15.832,19.700,19.374,19.261,15.445,21.565,16.384,14.602,15.913,18.558,16.935,21.162,21.715,22.170,14.712,22.882,23.422,18.792,22.625,24.801,16.024,20.153,16.005,18.313,15.769,32.688,15.923,21.241,15.857,20.767,14.929,18.108,21.465,15.771,23.070,18.461,13.799,20.535,19.269,23.141,16.079,29.154,19.532,15.663,25.232,16.922,20.628,20.843,29.399,24.189,19.721,18.163,26.388,24.611,19.957,33.586,21.895,17.477,16.958,15.064,18.397,16.091,17.094,16.849,25.732,15.916,21.867,16.664,21.010,21.753,17.196,15.897,16.771,15.619,16.064,15.489,16.673,16.081,16.824,20.270,26.976,18.551,19.577,19.702,18.951,17.498,24.363,20.625,47.075,20.852,16.587,21.035,18.262,15.180,15.681,14.269,18.427,16.636,18.921,16.624,15.633,18.089,14.502,19.053,15.957,16.972,14.520,17.555,16.790,28.256,15.536,15.935,16.032,15.582,15.029,18.466,17.378,17.852,20.125,16.762,20.193,19.405,26.639,16.379,16.701,17.012,16.158,29.277,16.531,22.130,22.559,21.416,29.045,16.042,21.281,15.849,17.484,15.870,16.024,16.620,15.974,15.602,17.377,15.904,21.459,20.048,19.779,15.675,18.093,15.877,34.769,16.144,28.839,22.820,19.842,25.313,17.895,23.324,19.101,24.707,23.309,28.344,25.478,15.231,19.175,20.396,14.360,14.935,17.184,16.119,19.408,18.755,21.322,15.877,16.155,19.918,23.299,22.064,15.978,15.906,19.392,18.177,19.034,16.018,15.978,18.713,15.709,20.382,19.251,19.570,17.786,22.905,20.380,27.631,17.269,17.851,24.740,22.962,23.303,21.213,15.665,24.487,19.572,16.113,31.779,26.058,15.900,16.926,16.006,15.709,16.129,16.946,23.989,24.640,18.851,16.374,14.482,16.772,16.941,15.868,21.204,15.922,15.689,17.459,18.256,15.713,17.002,17.115,15.665,18.591,21.101,19.916,27.058,22.942,24.630,18.488,20.461,20.755,25.571,17.813,21.904,16.605,21.343,16.339,20.184,20.469,24.015,15.931,20.309,17.557,20.348,22.859,19.846,16.057,29.045,15.955,19.508,19.134,14.162,15.914,17.234,28.015,16.903,19.646,20.526,29.664,19.834,21.985,18.533,21.516,24.735,25.408,18.967,20.539,14.626,16.727,24.841,15.956,14.700,19.691,19.677,20.668,16.045,30.156,15.021,16.015,15.642,21.776,15.827,18.131,26.986,19.625,15.872,16.790,15.891,21.920,15.896,21.459,17.284,18.989,19.567,20.058,23.257,25.718,21.257,25.741,23.932,25.474,19.076,18.707,15.661,20.907,16.431,19.882,17.186,17.030,27.593,20.248,28.976,20.027,18.304,16.572,26.509,15.860,28.504,22.739,30.103,23.915,14.546,15.735,24.341,22.068,16.351,20.294,20.493,20.590,20.750,20.255,24.314,20.911,17.200,18.763,21.725,24.865,15.640,26.067,16.093,14.769,15.920,16.087,21.363,20.649,15.472,24.573,16.670,17.185,21.475,18.423,16.686,19.603,15.961,17.826,15.987,16.615,15.683,20.324,18.691,27.518,16.187,17.621,19.342,19.620,16.826,23.812,19.921,21.799,15.536,25.731,24.010,27.940,20.518,21.269,15.885,20.838,15.838,20.078,23.410,22.508,22.227,15.905,28.268,17.444,16.297,15.704,24.801,15.616,16.831,16.935,20.730,15.710,17.684,15.707,28.845,14.434,17.991,15.817,16.576,16.594,24.747,20.023,19.986,24.523,19.810,15.920,22.841,20.981,24.428,21.351,15.920,18.917,20.874,17.048,20.738,15.610,17.782,26.079,24.881,23.994,16.270,25.380,19.521,21.967,16.006,19.201,15.717,15.618,16.350,17.381,15.794,18.046,15.832,17.185,18.516,19.547,17.451,19.768,21.759,17.643,24.897,20.652,21.249,20.201,22.063,21.582,19.828,22.779,18.067,15.963,22.126,16.422,15.961,20.421,16.645,21.773,26.552,20.015,15.778,15.973,17.469,15.899,16.288,21.037,19.792,16.433,18.601,20.047,26.305,17.891,16.586,22.627,21.453,21.492,20.896,19.589,23.768,16.144,26.564,19.072,24.440,21.209,17.702,19.232,19.892,15.543,16.165,21.197,16.785,16.449,16.713,15.895,17.412,15.888,16.797,15.619,15.159,17.083,19.173,19.017,17.573,16.031,16.113,15.911,15.944,19.524,15.905,19.247,17.131,25.181,16.503,28.711,15.882,21.703,17.005,19.567,16.008,19.462,20.995,28.357,22.192,16.912,15.557,17.296,15.034,21.203,12.327,19.315,21.118,18.037,16.321,19.494
]
# Calculate statistics
max_y = np.max(y)
min_y = np.min(y)
std_y = np.std(y)
average_y = np.mean(y) 

# Print the statistics
print(f"Max: {max_y}")
print(f"Min: {min_y}")
print(f"Standard Deviation: {round(std_y, 2)}")
print(f"Average: {round(average_y, 2)}") 

# Create the plot
plt.figure(figsize=(10, 6))
plt.plot(x, y,'-', color='blue')

# Set the title and labels
plt.title('Latency of Operating System')
plt.xlabel('Time [s]')
plt.ylabel('Latency [Âµs]')

# Set the x and y axis limits
plt.xlim([0, 600])
plt.ylim([0, 50])

# Save the plot to a file
plt.savefig("max_latency_rt_kernelparam_host_qemu_2cpus.png")
#plt.savefig("../../../../../../img/max_latency_rt.png")

# Print a success message
print("The plot was successfully saved to max_latency_rt_kernelparam_host_qemu_2cpus.png")

# Write the statistics to a file
with open('max_latency_rt_kernelparam_host_qemu_2cpus_statistics.txt', 'w') as f:
    f.write(f"Average latency: {round(average_y, 2)}us\n") 
    f.write(f"Max latency: {max_y}us\n")
    f.write(f"Min latency: {min_y}us\n")
    f.write(f"Standard Deviation: {round(std_y, 2)}us\n")
     
    
# Print a success message
print("The statistics were successfully written to max_latency_rt_kernelparam_host_qemu_2cpus_statistics.txt")



