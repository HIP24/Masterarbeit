import matplotlib.pyplot as plt
import numpy as np

# Data points
x = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599
]

y = [16.420,16.884,16.039,16.393,16.074,16.202,16.466,16.256,16.411,16.038,16.396,16.366,16.075,16.503,16.536,16.600,16.772,16.158,16.332,16.136,16.141,16.195,16.451,15.971,15.022,14.532,15.734,16.341,15.965,16.041,16.410,16.403,16.516,16.370,16.565,16.118,16.442,16.108,16.396,16.182,16.429,16.367,16.053,16.151,16.355,16.190,16.735,16.125,16.578,16.511,16.375,16.734,16.092,16.327,16.286,16.413,16.299,15.978,16.381,16.342,16.370,16.525,16.145,16.530,16.365,16.419,16.435,16.330,16.210,16.053,16.369,16.372,16.332,16.455,16.685,16.316,16.359,16.425,16.508,16.364,16.259,16.430,16.304,15.114,16.324,16.420,16.350,16.102,16.368,16.309,15.991,16.351,16.353,16.117,15.955,16.407,16.530,16.264,16.478,16.029,15.939,16.613,16.572,15.517,15.972,16.336,16.434,16.442,16.399,16.723,15.517,16.410,16.359,14.929,16.307,16.570,16.080,16.194,16.313,16.481,17.134,16.783,15.653,16.131,15.943,15.679,16.393,16.451,16.182,16.402,16.440,16.628,16.003,16.428,16.362,16.046,16.771,16.467,16.467,16.383,16.382,16.466,16.115,16.380,16.191,16.278,16.017,16.411,16.383,16.104,16.383,16.431,16.168,16.289,16.335,16.028,16.497,16.515,16.004,16.346,16.130,16.154,15.143,16.476,16.403,16.440,16.499,15.926,16.379,16.724,15.978,16.606,16.440,16.522,16.329,15.877,16.466,16.409,16.362,16.002,16.424,16.402,16.256,16.522,16.470,16.327,16.140,16.230,16.245,16.095,16.324,16.457,16.096,16.503,16.439,16.128,16.398,16.478,16.368,16.395,16.677,16.394,16.143,16.385,15.873,16.257,16.165,16.370,16.544,16.464,16.005,16.012,15.921,15.923,16.088,16.313,16.403,16.186,16.350,16.460,16.383,16.465,16.325,16.730,16.339,16.397,16.043,16.345,16.161,15.963,16.139,16.506,16.372,16.341,16.311,16.437,16.409,16.076,16.023,16.282,16.255,16.425,16.482,16.443,16.456,16.519,16.417,16.155,16.501,16.009,16.782,16.270,16.031,16.124,16.129,16.326,16.359,16.475,15.681,15.095,15.966,15.961,15.979,16.505,15.058,16.250,16.286,16.705,16.397,16.208,16.369,16.946,15.635,16.599,16.388,16.380,16.394,16.254,16.388,16.403,16.319,16.395,16.694,15.871,16.224,16.202,15.834,16.102,16.115,16.087,16.426,15.887,16.457,16.112,16.041,16.557,16.335,15.755,16.219,16.422,16.423,16.358,15.041,16.634,15.395,17.045,16.452,16.093,16.316,16.607,16.411,16.338,16.273,16.405,16.303,16.414,16.144,16.022,16.003,16.464,16.516,16.337,16.437,15.035,16.827,16.146,16.344,15.706,16.222,16.129,16.178,16.103,16.351,16.340,16.415,16.354,16.068,16.376,16.068,16.404,15.995,16.423,16.227,16.024,16.371,16.185,16.305,16.440,16.336,16.412,16.403,16.391,16.484,16.174,16.126,16.461,16.039,15.993,16.376,15.866,15.727,16.110,16.455,16.451,16.558,14.843,15.669,16.632,16.423,16.066,16.093,15.891,16.455,16.520,15.967,16.006,16.010,16.481,16.121,15.901,16.078,16.445,16.068,15.821,16.367,16.165,16.442,16.047,16.418,16.400,15.919,16.296,16.111,16.447,16.325,16.491,16.077,16.403,16.292,16.496,16.419,16.102,16.372,16.361,16.407,16.313,16.471,16.174,16.043,15.165,16.356,15.938,16.183,16.069,16.382,16.345,16.064,16.805,15.988,16.455,16.288,16.463,16.741,16.285,16.784,16.489,16.012,16.485,16.514,16.042,16.172,16.126,16.124,16.237,16.524,16.131,16.100,16.457,16.409,16.343,16.428,16.313,16.102,15.921,16.260,16.391,16.176,16.395,16.360,16.447,16.099,16.430,16.011,16.057,16.451,16.362,16.488,15.732,16.205,16.021,16.443,16.103,16.373,16.451,16.392,16.086,16.513,16.515,16.292,16.075,16.089,16.604,16.053,16.429,15.984,16.528,16.439,16.481,16.290,16.544,16.030,16.395,16.029,16.094,16.401,15.933,16.521,16.411,16.452,15.995,16.359,16.176,16.474,15.999,16.072,16.361,16.422,16.113,16.521,16.062,16.228,16.685,16.410,16.397,15.752,16.384,16.441,16.402,16.393,16.405,16.493,15.623,16.163,16.571,16.310,16.392,15.429,15.964,16.052,15.991,16.322,16.082,16.513,15.684,16.093,16.329,16.161,16.315,16.112,15.995,16.361,16.343,15.021,16.167,16.153,16.252,16.362,16.425,16.471,16.495,16.093,16.073,16.368,15.826,16.720,16.147,16.378,15.025,16.115,16.460,16.071,16.375,16.056,16.089,16.508,16.266,16.425,16.366,16.413,16.434,16.403,16.372,16.271,16.045,16.149,16.149,16.068,16.127,16.750,16.423,16.373,16.382,16.346,16.461,16.420,16.124,16.451,16.625,16.487,16.527,16.375,16.424,16.229,16.665,16.356,16.250,16.400,16.517,17.012,16.452,16.507,16.160,16.340,16.088,16.408,16.448,16.427,16.582,16.429
]

# Calculate statistics
max_y = np.max(y)
min_y = np.min(y)
std_y = np.std(y)
average_y = np.mean(y) 

# Print the statistics
print(f"Max: {max_y}")
print(f"Min: {min_y}")
print(f"Standard Deviation: {round(std_y, 2)}")
print(f"Average: {round(average_y, 2)}") 

# Create the plot
plt.figure(figsize=(10, 6))
plt.plot(x, y,'-', color='blue')

# Set the title and labels
plt.title('Latency of Operating System')
plt.xlabel('Time [s]')
plt.ylabel('Latency [Âµs]')

# Set the x and y axis limits
plt.xlim([0, 600])
plt.ylim([0, 40])

# Save the plot to a file
plt.savefig("max_latency_rt_kernelparam_host_qemu.png")
#plt.savefig("../../../../../../img/max_latency_rt.png")

# Print a success message
print("The plot was successfully saved to max_latency_rt_kernelparam_host_qemu.png")

# Write the statistics to a file
with open('max_latency_rt_kernelparam_host_qemu_statistics.txt', 'w') as f:
    f.write(f"Average latency: {round(average_y, 2)}us\n") 
    f.write(f"Max latency: {max_y}us\n")
    f.write(f"Min latency: {min_y}us\n")
    f.write(f"Standard Deviation: {round(std_y, 2)}us\n")
     
    
# Print a success message
print("The statistics were successfully written to max_latency_rt_kernelparam_host_qemu_statistics.txt")



