import matplotlib.pyplot as plt
import numpy as np

# Data points
x = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599
]

y = [7.918,11.638,15.932,13.920,12.620,14.603,15.168,11.995,14.242,12.719,9.597,11.359,12.949,14.073,14.498,11.565,11.467,11.410,12.155,9.927,11.682,11.010,14.530,8.096,13.754,14.419,14.540,14.349,10.462,13.730,13.652,7.950,8.252,14.177,13.919,13.855,15.468,10.693,14.231,12.979,13.766,13.041,14.032,15.062,11.175,10.286,14.484,9.660,13.728,12.080,11.323,11.443,11.861,13.139,8.955,11.776,12.875,10.836,9.116,11.026,11.665,12.499,9.189,12.816,14.384,10.291,13.651,12.249,14.539,11.499,14.246,9.544,14.008,9.114,14.812,13.798,11.998,13.592,13.701,14.940,11.832,11.124,9.038,9.410,11.888,12.370,13.886,13.190,13.566,14.849,9.634,10.980,11.882,11.448,14.582,9.923,9.247,14.097,11.303,14.164,12.115,13.504,13.697,11.231,11.358,8.949,13.829,8.918,11.654,10.939,13.561,11.987,13.513,14.715,13.643,14.136,12.612,14.182,11.302,13.401,14.198,14.135,10.318,13.740,10.977,9.812,13.618,12.994,13.886,11.328,13.189,12.622,11.386,14.333,14.258,10.229,11.370,11.687,14.073,9.801,13.359,11.113,12.150,11.963,10.847,13.195,7.872,11.039,13.263,12.197,12.236,12.399,12.537,10.213,14.773,9.294,8.799,13.174,14.263,13.087,13.653,13.455,13.590,13.313,14.964,11.471,13.848,9.837,10.775,14.222,13.249,12.533,10.597,12.516,11.026,13.071,11.372,8.035,13.548,13.867,9.221,13.987,10.658,9.015,15.152,11.445,14.006,14.263,11.359,13.590,13.074,12.783,12.703,15.126,13.012,13.617,11.256,13.507,11.086,15.179,12.861,12.036,13.219,12.491,12.930,10.873,14.159,14.151,10.402,12.160,9.531,12.447,14.816,14.276,11.789,14.157,14.102,12.825,9.448,12.695,14.255,10.787,10.667,11.577,11.043,13.268,12.359,13.773,14.383,9.544,14.909,10.192,13.103,13.785,13.776,9.821,12.115,14.090,14.653,9.519,10.749,11.574,13.699,11.149,13.697,9.947,14.382,9.469,14.252,13.651,12.905,10.709,9.309,13.047,12.890,13.846,13.504,11.409,9.367,17.041,11.254,10.194,9.965,14.487,14.358,13.672,14.348,14.266,11.170,9.021,15.446,14.533,14.082,10.239,14.115,9.837,14.018,11.111,13.186,14.576,14.926,9.661,14.977,15.547,13.867,13.119,9.408,13.416,9.314,14.279,8.896,13.815,13.832,12.780,13.734,12.971,12.435,12.473,12.392,10.561,11.428,13.257,12.736,14.487,14.302,12.701,12.400,13.655,12.517,13.615,14.008,14.069,8.583,9.478,15.288,11.213,14.525,12.740,13.095,13.944,13.972,11.453,13.534,9.122,14.183,11.672,12.719,13.838,14.429,13.279,9.204,14.188,14.214,11.584,14.031,13.068,12.138,13.824,9.360,13.959,14.537,10.670,12.342,14.855,11.445,11.038,14.117,12.740,14.411,13.589,10.424,10.570,11.314,11.117,14.210,11.332,14.494,14.536,11.912,12.010,14.032,12.283,15.892,14.233,13.401,11.068,11.730,15.789,10.276,10.987,13.997,13.489,14.523,14.589,11.527,11.997,11.043,13.597,10.112,15.642,10.292,14.479,13.303,12.445,13.264,13.680,14.294,12.862,14.036,13.329,12.341,9.232,14.345,11.547,12.472,13.293,10.191,13.879,11.905,8.903,13.950,12.400,11.302,10.930,14.012,12.009,13.369,12.311,14.793,14.192,14.237,12.525,14.931,14.083,15.159,13.539,15.165,13.736,12.288,13.616,14.914,12.999,12.390,8.676,14.301,14.193,11.598,10.986,10.499,12.438,14.558,11.704,10.917,14.704,14.127,8.690,10.192,13.819,8.878,13.807,13.246,8.992,14.731,8.775,13.586,15.247,11.602,14.665,9.551,12.719,14.220,12.831,12.978,14.456,14.010,14.540,13.846,13.980,14.440,11.179,8.633,13.149,13.450,14.747,10.906,11.494,13.445,12.935,16.147,9.882,14.041,10.901,13.893,10.312,14.486,11.296,11.094,13.396,14.068,11.125,13.522,10.857,12.897,14.173,14.523,14.616,9.123,14.730,10.009,14.720,15.212,11.169,11.942,11.120,12.935,12.065,13.001,12.857,14.593,11.624,14.191,11.415,13.548,8.578,13.966,12.819,13.382,9.990,12.213,9.610,14.330,12.627,14.455,12.243,11.751,9.567,13.093,11.067,13.902,14.945,15.176,11.267,11.113,9.293,14.601,12.584,12.098,14.812,10.722,14.488,12.684,11.613,14.637,14.933,14.017,15.265,11.122,14.307,14.245,14.868,14.336,14.152,14.367,13.597,14.576,13.604,9.373,13.828,13.985,14.224,14.550,11.263,12.904,11.221,13.790,11.563,9.217,14.472,11.504,13.773,14.199,13.581,14.021,13.435,14.623,13.797,10.521,15.006,14.545,11.327,11.122,12.521,10.544,10.060,11.822,12.844,13.864,11.175,15.185,11.356,12.635,11.883,13.804,14.368,13.617,13.625,13.541,12.678,12.134,15.021,13.461,10.683,14.354,11.426,14.463,13.490,13.688,14.822,14.143
]

# Calculate statistics
max_y = np.max(y)
min_y = np.min(y)
std_y = np.std(y)
average_y = np.mean(y) 

# Print the statistics
print(f"Max: {max_y}")
print(f"Min: {min_y}")
print(f"Standard Deviation: {round(std_y, 2)}")
print(f"Average: {round(average_y, 2)}") 

# Create the plot
plt.figure(figsize=(10, 6))
plt.plot(x, y,'-', color='blue')

# Set the title and labels
plt.title('Latency of Operating System')
plt.xlabel('Time [s]')
plt.ylabel('Latency [Âµs]')

# Set the x and y axis limits
plt.xlim([0, 600])
plt.ylim([0, 40])

# Save the plot to a file
plt.savefig("max_latency_rt_kernelparam_host.png")
#plt.savefig("../../../../../../img/max_latency_rt.png")

# Print a success message
print("The plot was successfully saved to max_latency_rt_kernelparam_host.png")

# Write the statistics to a file
with open('max_latency_rt_kernelparam_host_statistics.txt', 'w') as f:
    f.write(f"Average latency: {round(average_y, 2)}us\n") 
    f.write(f"Max latency: {max_y}us\n")
    f.write(f"Min latency: {min_y}us\n")
    f.write(f"Standard Deviation: {round(std_y, 2)}us\n")
     
    
# Print a success message
print("The statistics were successfully written to max_latency_rt_kernelparam_host_statistics.txt")



