import matplotlib.pyplot as plt
import numpy as np

# Data points
x = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599
]

y = [6.351,13.591,12.555,13.750,13.526,17.797,15.364,12.605,16.441,14.508,13.699,14.816,14.489,14.428,13.980,12.591,14.888,13.927,13.915,15.901,14.178,13.305,14.827,14.605,14.948,12.511,14.522,12.727,13.434,12.470,13.677,14.904,12.792,14.539,14.533,13.748,14.926,14.444,15.351,11.010,15.559,14.882,17.331,16.155,14.671,12.932,15.161,14.083,11.437,12.029,12.166,13.786,14.150,15.339,14.814,14.300,14.557,14.616,14.114,16.915,14.679,12.936,13.044,13.058,12.764,13.269,14.329,11.538,13.874,14.676,12.977,12.748,15.553,13.263,13.988,9.353,13.368,13.563,13.688,14.261,13.653,13.090,14.788,13.207,14.461,12.969,14.306,14.234,13.437,12.684,14.847,13.923,14.300,12.611,13.087,14.261,14.086,11.419,13.039,15.769,11.105,14.675,11.691,14.198,13.639,14.830,13.220,13.132,14.303,13.664,11.712,13.544,14.549,13.141,14.798,14.755,13.705,15.701,14.402,13.326,14.729,15.320,15.016,12.428,14.382,12.432,13.014,14.912,12.570,14.330,14.220,16.154,14.667,14.558,15.135,14.770,15.236,13.634,14.276,13.684,14.823,13.927,13.710,14.755,12.913,14.836,14.082,11.969,13.848,14.359,13.249,13.964,14.533,12.903,13.726,14.298,12.838,13.001,14.301,13.772,14.185,14.504,10.952,17.654,13.767,15.965,15.219,14.904,14.320,15.954,11.739,13.708,12.856,14.001,13.888,13.063,14.355,16.131,14.671,15.845,13.885,14.593,10.913,14.350,15.170,12.936,15.355,11.360,11.986,14.959,14.325,14.917,13.546,13.901,14.183,14.508,14.117,15.331,14.546,13.475,13.037,17.740,14.499,14.123,15.214,14.139,15.798,15.769,15.821,16.749,14.212,15.183,18.409,14.484,13.593,13.829,14.305,12.657,16.528,15.330,15.141,13.512,15.449,15.215,14.623,14.242,15.936,14.004,15.284,12.283,15.316,13.332,15.571,14.240,15.783,14.838,14.521,10.853,13.441,18.654,12.016,13.872,16.052,14.588,14.087,14.471,14.214,14.157,15.487,14.489,12.830,18.826,13.762,13.968,14.629,14.227,14.129,13.531,14.621,17.499,13.374,13.437,14.426,13.415,13.867,11.152,15.423,12.688,17.648,15.011,13.034,14.267,14.327,13.753,15.708,15.938,14.450,13.308,14.016,14.220,14.335,13.930,13.200,14.185,14.920,11.515,15.077,13.692,14.300,14.071,16.865,14.201,14.809,14.127,13.905,16.814,18.314,14.743,14.741,13.741,15.016,13.902,12.340,13.621,12.587,14.897,14.414,13.828,13.989,21.694,14.238,14.071,12.562,14.835,13.622,14.820,13.130,14.920,14.173,11.510,14.687,14.846,13.412,12.803,13.968,12.732,13.068,12.752,18.028,13.003,14.210,13.971,15.508,14.613,13.704,12.424,13.652,13.741,13.585,14.138,10.864,14.601,14.555,14.216,13.250,13.450,14.300,12.113,12.937,14.887,14.208,14.356,14.899,12.948,15.599,16.845,14.059,14.114,15.871,12.930,13.267,14.333,14.606,11.082,12.502,13.643,14.949,13.546,14.903,12.557,14.945,17.375,14.381,14.723,14.337,15.541,11.390,12.324,15.299,14.551,10.921,14.122,14.624,12.563,15.405,13.365,14.333,12.413,12.622,12.962,13.952,12.502,13.597,11.929,14.546,14.363,12.513,14.481,15.359,13.397,13.726,13.475,12.603,13.053,14.803,13.101,13.010,12.982,14.381,14.341,12.916,10.523,13.494,14.549,14.255,14.312,14.353,13.000,14.221,13.214,12.401,13.107,12.945,10.735,16.722,14.285,14.082,13.776,13.189,12.267,14.158,12.915,11.470,14.269,13.722,15.739,14.130,13.176,17.086,13.876,14.399,13.569,15.670,15.401,14.804,12.746,13.716,14.664,14.988,12.238,14.774,13.591,16.404,14.234,16.634,13.094,16.578,14.384,13.852,12.631,14.485,12.849,14.934,13.297,15.711,15.216,14.247,13.141,14.626,15.354,14.515,12.990,13.714,12.034,13.445,11.923,16.481,11.182,13.322,11.563,16.313,14.846,14.418,9.564,14.900,12.096,15.334,12.717,12.494,14.589,14.125,13.499,19.221,14.850,13.178,15.105,13.861,15.303,13.942,13.874,13.940,11.814,14.275,15.312,13.192,13.719,12.634,13.190,14.845,11.114,13.671,13.723,14.438,13.677,13.617,16.865,11.885,14.473,13.790,11.298,14.280,13.958,14.847,12.926,13.193,14.444,12.448,14.634,12.781,12.435,14.469,13.668,12.668,14.232,13.309,14.625,13.209,13.427,14.054,12.874,13.059,14.560,12.998,15.690,16.284,13.226,12.776,14.616,14.228,13.146,14.110,13.937,14.305,12.594,11.467,14.959,16.265,11.331,10.440,13.718,10.341,15.049,14.057,13.019,13.764,14.091,12.656,10.490,14.357,12.923,13.882,14.069,14.583,14.171,11.987,13.174,14.520,16.740,14.711,9.836,13.735,12.807,14.345,14.367,10.062,13.735,14.247,14.848,12.796,14.227,14.270,14.088,12.880,16.127,15.065,14.135,14.281,14.689,13.829
]

# Calculate statistics
max_y = np.max(y)
min_y = np.min(y)
std_y = np.std(y)
average_y = np.mean(y) 

# Print the statistics
print(f"Max: {max_y}")
print(f"Min: {min_y}")
print(f"Standard Deviation: {round(std_y, 2)}")
print(f"Average: {round(average_y, 2)}") 

# Create the plot
plt.figure(figsize=(10, 6))
plt.plot(x, y,'-', color='blue')

# Set the title and labels
plt.title('Latency of Operating System')
plt.xlabel('Time [s]')
plt.ylabel('Latency [Âµs]')

# Set the x and y axis limits
plt.xlim([0, 600])
plt.ylim([0, 40])

# Save the plot to a file
plt.savefig("max_latency_rt_kernelparam.png")
#plt.savefig("../../../../../../img/max_latency_rt.png")

# Print a success message
print("The plot was successfully saved to max_latency_rt_kernelparam.png")

# Write the statistics to a file
with open('max_latency_rt_kernelparam_statistics.txt', 'w') as f:
    f.write(f"Average latency: {round(average_y, 2)}us\n") 
    f.write(f"Max latency: {max_y}us\n")
    f.write(f"Min latency: {min_y}us\n")
    f.write(f"Standard Deviation: {round(std_y, 2)}us\n")
     
    
# Print a success message
print("The statistics were successfully written to max_latency_rt_kernelparam_statistics.txt")



