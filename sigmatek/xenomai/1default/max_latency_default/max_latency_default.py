import matplotlib.pyplot as plt
import numpy as np

# Data points
x = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599]

y = [33.003,28.848,29.607,33.550,33.989,34.579,39.054,50.771,35.957,42.863,30.040,29.869,32.475,28.180,29.138,34.498,32.280,44.946,40.473,44.809,29.194,46.112,32.997,22.338,21.751,26.916,32.445,32.727,38.181,32.167,35.497,42.399,33.128,52.193,38.198,31.741,31.345,29.250,29.600,635.144,35.013,32.608,33.633,41.574,34.701,73.842,28.500,28.032,32.764,31.839,34.977,40.554,30.127,40.110,44.291,43.528,48.943,38.464,52.933,39.721,34.934,28.669,34.581,32.606,28.382,38.683,31.910,33.734,30.236,63.420,65.825,40.905,37.835,39.816,33.365,29.215,35.730,35.281,28.462,36.965,707.622,56.945,53.163,52.626,44.918,29.823,31.221,35.810,29.255,31.833,470.287,36.424,30.937,35.864,55.883,39.722,61.364,29.572,34.060,33.954,26.582,31.650,26.869,38.296,33.772,42.625,41.966,67.933,62.272,36.594,35.172,32.953,33.528,39.961,26.807,26.402,32.376,34.438,36.408,59.592,27.677,27.395,33.479,34.232,37.153,32.275,38.008,27.896,37.807,32.289,33.957,31.551,56.648,45.591,37.609,28.901,37.632,33.739,33.044,37.569,30.446,24.669,34.353,36.979,47.643,70.070,27.757,35.489,21.984,32.019,26.528,27.225,28.623,28.866,39.969,57.105,50.020,40.127,26.906,35.014,25.483,34.467,31.718,31.591,31.878,36.961,32.542,34.162,46.033,45.361,18.090,22.103,129.369,27.234,17.082,81.118,16.720,153.303,24.882,16.790,21.640,25.284,31.955,37.031,24.324,166.946,16.970,23.589,18.570,22.127,115.958,34.970,122.250,37.845,150.584,208.556,41.198,25.730,22.997,18.100,37.961,16.924,19.246,19.111,204.205,19.366,153.871,32.954,17.048,17.918,16.789,20.787,16.743,18.893,15.594,17.194,16.638,17.298,39.223,32.579,21.508,51.380,46.015,44.934,38.809,34.518,45.502,34.046,36.208,37.351,36.194,38.822,44.854,23.722,117.430,42.297,34.531,34.638,91.007,35.381,39.291,40.071,40.255,21.248,123.122,26.353,26.641,142.727,20.867,26.540,19.778,25.194,17.423,25.372,57.149,36.522,34.271,34.193,20.682,16.639,21.746,16.689,115.916,122.509,117.184,16.771,16.774,17.031,163.286,54.522,167.430,19.169,17.129,163.557,16.789,16.823,123.287,46.424,37.372,42.439,44.416,40.224,45.003,21.035,18.719,20.493,18.719,19.828,17.339,21.975,17.530,27.344,17.057,20.620,55.228,54.798,17.092,20.848,20.731,18.840,131.952,18.389,18.845,50.802,36.599,43.307,41.739,41.439,30.590,17.315,21.467,16.740,21.791,24.079,24.322,39.259,40.924,35.469,48.273,46.331,41.504,16.671,17.939,17.147,222.007,41.792,38.100,39.532,45.754,46.654,44.558,22.566,54.832,29.266,17.324,17.548,17.653,16.917,16.642,17.055,16.689,33.775,25.209,22.777,54.521,42.704,41.237,21.921,16.816,20.984,25.272,16.810,16.922,17.140,16.722,21.561,54.559,41.229,43.844,16.709,24.428,16.691,16.102,16.829,16.893,18.255,24.103,17.602,26.218,59.732,44.581,38.130,42.620,32.045,43.599,36.028,36.539,39.529,19.666,18.887,16.838,23.008,59.328,24.128,43.762,44.205,43.186,40.264,16.017,16.836,17.026,16.267,20.587,19.559,55.773,45.931,39.541,28.459,17.782,15.882,17.628,19.194,25.710,20.209,16.537,18.494,22.205,55.764,41.230,26.766,19.614,28.838,25.403,18.837,23.116,19.096,18.738,26.465,25.285,53.778,40.795,40.851,38.321,39.447,45.257,40.793,39.641,40.047,36.675,38.606,47.031,76.015,78.598,39.725,46.656,43.531,39.738,50.381,48.271,47.249,47.721,48.479,39.260,42.821,41.617,47.489,49.955,44.326,44.187,42.224,41.481,41.891,36.993,38.643,38.545,36.368,39.393,44.157,41.352,41.611,37.961,33.571,38.577,38.732,43.887,36.593,40.775,35.680,39.559,44.399,44.526,44.960,39.368,39.099,40.476,39.323,41.760,38.482,44.006,37.410,37.188,38.331,43.674,70.200,63.839,45.394,62.679,23.959,35.899,32.884,39.577,37.942,42.110,46.633,42.610,48.344,73.916,80.248,71.258,79.454,85.830,74.380,64.630,46.472,65.175,54.273,77.648,61.163,48.617,47.688,51.496,60.163,71.915,48.830,46.464,59.571,70.429,65.100,48.577,39.364,43.607,41.931,69.455,52.449,68.668,42.282,50.597,79.341,68.848,58.371,67.292,49.563,28.342,63.038,54.881,47.483,71.883,108.833,47.688,56.830,64.047,52.587,41.374,39.468,47.447,61.367,66.285,76.252,73.723,83.923,77.939,109.714,74.494,76.323,70.012,128.930,80.012,78.732,66.007,29.670,42.014,42.054,43.688,48.570,83.325,64.385,45.558,47.040,74.870,59.568,61.442,40.303,60.931,65.607,52.560,144.006,62.586,66.092,67.132,42.089,71.935,520.010,61.290,65.649,53.080,42.965,39.836,41.001,43.039,40.131,43.545,39.426,65.413,40.703,40.401,65.911,51.637,39.944,42.537
]

# Calculate statistics
max_y = np.max(y)
min_y = np.min(y)
std_y = np.std(y)
average_y = np.mean(y) 

# Print the statistics
print(f"Max: {max_y}")
print(f"Min: {min_y}")
print(f"Standard Deviation: {round(std_y, 2)}")
print(f"Average: {round(average_y, 2)}") 

# Create the plot
plt.figure(figsize=(10, 6))
plt.plot(x, y,'-', color='blue')

# Set the title and labels
#plt.title('Latency of Operating System')
plt.xlabel('Time [s]')
plt.ylabel('Latency [Âµs]')

# Set the x and y axis limits
plt.xlim([0, 600])
plt.ylim([0, 800])

# Save the plot to a file
plt.savefig("max_latency_default.png")
#plt.savefig("../../../../../../img/max_latency_default.png")

# Print a success message
print("The plot was successfully saved to max_latency_default.png")

# Write the statistics to a file
with open('max_latency_default_statistics.txt', 'w') as f:
    f.write(f"Average latency: {round(average_y, 2)}us\n") 
    f.write(f"Max latency: {round(max_y, 2)}us\n")
    f.write(f"Min latency: {round(min_y, 2)}us\n")
    f.write(f"Standard Deviation: {round(std_y, 2)}us\n")

# Print a success message
print("The statistics were successfully written to max_latency_default_statistics.txt")



